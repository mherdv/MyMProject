<section class="section">
  <div class="row">
      <div class="col-md-12">
          <div class="card">
              <div class="card-header bordered">
                  <div class="header-block">
                      <h3 class="title">Список событий</h3>
                  </div>
                  <div class="form-inline pull-right m-r-2">
                      <div class="form-group">
                          <input type="text" 
                          class="form-control" 
                          [placeholder]="searchPlaceholder"
                          [(ngModel)]="searchValue"
                          >
                      </div>
                      <div class="btn-group" MyMDropdown>
                          <button type="button" class="btn btn-secondary dropdown-toggle ">
                              Параметр
                          </button>
                          <div class="dropdown-menu">
                              <a class="dropdown-item" (click)='changeCriteria("summ")' >summ</a>
                              <a class="dropdown-item" (click)='changeCriteria("date")' >date</a>
                              <a class="dropdown-item" (click)='changeCriteria("category")' >category</a>
                              <a class="dropdown-item" (click)='changeCriteria("type")' >type</a>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="card-block">
                  <table class="table table-striped">
                      <thead>
                          <tr>
                              <th>#</th>
                              <th>Сумма</th>
                              <th>Дата</th>
                              <th>Категория</th>
                              <th>Тип</th>
                              <th class="text-lg-center">Действие</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let e of events | MyMFilter:searchValue:searchFild; let ind = index">
                              <th scope="row">{{ind+1}}</th>
                              <td>{{e.amount | number:'1.2'}}</td>
                              <td>{{e.date | MyMMoment:"DD.MM.YYYY"}}</td>
                              <td>{{e.catName}}</td>
                              <td>
                                  <span [ngClass]="getEventClass(e)">
                                    <span *ngIf="e.type === 'income'"> coming</span>
                                    <span *ngIf="e.type !== 'income'"> going</span>
                                  </span>
                              </td>
                              <td class="text-lg-center">
                                  <a [routerLink]="['/sistem/history', e.id ]" class="btn btn-primary-outline">Открыть</a>
                              </td>
                          </tr>
                          
                      </tbody>
                  </table>
              </div>
          </div>
      </div>
  </div>
</section>
